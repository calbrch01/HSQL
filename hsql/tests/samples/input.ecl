IMPORT Visualizer ;
IMPORT ML_Core ;
IMPORT ML_Core.Types ;
IMPORT weather_h ;
IMPORT games_h ;
IMPORT LearningTrees  AS LT;
exp1 := COUNT(TABLE(games_h.games_ds(price < 5)));
exp2 := SORT(TABLE(games_h.games_ds(price < 5),{name,price}),price);
exp3 := TABLE(games_h.games_ds,{name,REAL price := sum(GROUP,price)},name);
exp4 := TABLE(games_h.games_ds(price < 2));
exp5 := TABLE(JOIN(xyz,randomname,LEFT.d = RIGHT.b,left only));
OUTPUT(exp3,,NAMED('sampleTitle'),EXPIRE(5));
OUTPUT(exp2,,EXPIRE(8));
OUTPUT(exp3);
OUTPUT(exp4);
OUTPUT(exp2,NAMED='exp2_plot1');
Visualizer.MultiD.Bar('exp2_plot1');
ind := TABLE(weather_h.attributes_ds(id < 600),{id,day,month});
dep := TABLE(weather_h.attributes_ds(id < 600),{id,intensity});
test_ind := TABLE(weather_h.attributes_ds(id >= 600),{id,day,month});
ML_Core.ToField(ind,ind_model0);
ML_Core.ToField(dep,dep_model0);
ind_model1 := PROJECT(ind_model0,TRANSFORM(RECORDOF(LEFT),SELF.id:=COUNTER,SELF:=LEFT));
dep_model1 := PROJECT(dep_model0,TRANSFORM(RECORDOF(LEFT),SELF.id:=COUNTER,SELF:=LEFT));
model1 := LT.RegressionForest().getModel(ind_model1,dep_model1);
ML_Core.ToField(test_ind,test_ind_model0);
test_ind_model1 := PROJECT(test_ind_model0,TRANSFORM(RECORDOF(LEFT),SELF.id:=COUNTER,SELF:=LEFT));
model1_predict := LT.RegressionForest().Predict(model1,test_ind_model1);
OUTPUT(model1_predict);

